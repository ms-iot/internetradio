<html>
  <head>
    <link href='http://ms-iot.github.io/content/css/bootstrap.css' rel='stylesheet' />
    <link href='css/radio.css' rel='stylesheet' />
    <title> Internet Radio - Main Page </title>
		<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.11.3.min.js"></script>
    <script type="text/javascript">
    	var onState = '#onState#';
    	var radioVolume = '#radioVolume#';
			var stationListJSON = '#stationListJSON#';
			
			$(document).ready(function()
			{
				$("#onStateVal").val(onState);
				if (onState == "On")
				{
					$("#onStateVal").val("WOW");
					$("#onState").toggleClass("radioOff radioOn");
					$("#onState").click(function() { 
						$("#onStateVal").val("Off");
						radioForm.submit();
					}); 
				}
				else
				{
					$("#onState").click(function() { 
						$("#onStateVal").val("On");
						radioForm.submit();
					}); 
				}
				$("#volumeSlide").val(radioVolume);
					
				$(JSON.parse(stationListJSON)).each(function() {  
	         		$("#stationList").append( "<div class='row'><a href='settings.htm?trackAction=track&trackName=" + this.name + "' title='" + this.url + "'>" + this.name + "</a></div>");
				});

				$("#volumeSlide").change(function () { 
					radioForm.submit();
				});
				$("#volumeButton").click(function() { 
					onStateVal.value="On";
					volumeSlide.value=100;
					radioForm.submit();
				}); 
				$("#muteButton").click(function() { 
					$("#onStateVal").val("Off");
					$("#volumeSlide").val(0);
					radioForm.submit();
				}); 
				$("#prevButton").click(function() { 
					$("#trackAction").val("prev");
					radioForm.submit();
				}); 
				$("#nextButton").click(function() { 
					$("#trackAction").val("next");
					radioForm.submit();
				}); 
   		}); //doc ready
   	</script>
   	<style>
    	.radioOn {
    		background:url('img/radioOn.png');
    	}
    	.radioOff {
    		background:url('img/radioOff.png');
    	}
    	#volumeButton {
    		background:url('img/volume.png');
    	}
    	#muteButton {
    		background:url('img/mute.png');
    	}
			#volumeSlide {
				width:240px;
			}
    	#prevButton {
    		background:url('img/previous.png');
  			margin: 0 10 0 100;
    	}
    	#nextButton {
    		background:url('img/previous.png');
    		margin: 0 100 0 10;
    		transform: rotate(180deg);
    	}
    	.valuePlaceholder {
    		visibility:hidden;
    	}
    	.button {
			  cursor:pointer;
			  width: 32px;
				height: 32px;
				border: none;
				background-repeat: no-repeat;
			}
   	</style>
  </head>
  <body>
    <div class='main'>
      <div class='container'>
        <div class='row'>
          <div class='col-md-12 headerbar'>
            Home
          </div>
        </div>
        <div class='row'>
                  
          <div name="stationList" id="stationList" class='col-md-4 listpane'>
          
            <div class='row selected'>
              <a href='AddStation.htm'> + Add Station </a>
            </div>
            
          </div>
          
          <div class='col-md-8 mainpane'>
						<form id="radioForm" method="GET" action="settings.htm">       
           	<input id="onStateVal" name="onStateVal" type="text" class="valuePlaceholder">
           	<input id="trackAction" name="trackAction" type="text" class="valuePlaceholder">
           	
            <div class='controlpane'>
	            <div class='row'>
						  	<div class='title'>
                		Now Playing
             		</div>
              </div>
              
              <div class='row'>
                #currentTrack#
              </div>
              
              <div class='controls row'>
                <ul>
                  <li>
										<input type="submit" value="" id="prevButton" class="prevButton button"/>
            			</li>              		
                  <li>
										<input type="submit" value="" id="onState" class="radioOff button"/>
            			</li>              		
                  <li>
										<input type="submit" value="" id="nextButton" class="nextButton button"/>
            			</li>              		
                </ul>
              </div>
              <div class='controls row'>
                <ul>
                  <li>
		            	<input type="submit" value="" id="muteButton" class="muteButton button"/>
            			</li>              		
                  <li>
									<input id="volumeSlide" name="volumeSlide" type="range">									
            			</li>              		
                  <li>
		            	<input type="submit" value="" id="volumeButton" class="volumeButton button"/>
            			</li>              		
                </ul>
              </div>

            </div>
            
          </div>

        </div>


      </div>
    </div>
  </body>
</html>